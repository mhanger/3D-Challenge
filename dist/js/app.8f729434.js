(function(e){function t(t){for(var r,o,c=t[0],s=t[1],d=t[2],l=0,h=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"32c6":function(e,t,n){"use strict";var r=n("5356"),i=n.n(r);i.a},"437c":function(e,t,n){},"4d2b":function(e,t,n){},5356:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"namespaced",(function(){return be})),n.d(r,"state",(function(){return Se})),n.d(r,"getters",(function(){return xe})),n.d(r,"mutations",(function(){return Me})),n.d(r,"actions",(function(){return ye}));var i={};n.r(i),n.d(i,"namespaced",(function(){return Ce})),n.d(i,"state",(function(){return _e})),n.d(i,"getters",(function(){return Oe})),n.d(i,"mutations",(function(){return je})),n.d(i,"actions",(function(){return Pe}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],s=(n("6294"),n("2877")),d={},u=Object(s["a"])(d,o,c,!1,null,null,null),l=u.exports,h=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"center"},[n("h1",[e._v("3D Challenge")]),e.visible?n("Loading"):n("Scene"),n("SwatchesWrapper",{attrs:{swatches:e.swatches}})],1)},p=[],m=n("5530"),g=new a["a"],w=n("2f62"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("section",{ref:"scene",staticClass:"scene",attrs:{id:"scene"}})])},b=[],S=n("5a89"),x=n("6397"),M={data:function(){return{camera:null,controls:null}},methods:{createCamera:function(e){return this.camera=new S["PerspectiveCamera"](70,e.width/e.height,1,1e3),this.camera.position.set(0,2,5),this.camera.lookAt(new S["Vector3"](0,0,0)),M},createControls:function(){this.controls=new x(this.camera,this.container),this.controls.minDistance=4,this.controls.maxDistance=25,this.controls.maxPolarAngle=Math.PI/2-.01,this.controls.enableDamping=!0,this.controls.autoRotate=!0,this.controls.autoRotateSpeed=.75}}},y={methods:{createLights:function(){var e=this.createHemiSphereLight(16777215,6710886,.4);e.position.set(0,50,0);var t=this.createSpotLight(2,"rgb(255, 255, 255)"),n=this.createSpotLight(1,"rgb(255, 220, 180)");t.position.x=-5,t.position.y=2,t.position.z=-4,n.position.x=5,n.position.y=2,n.position.z=-4;var r=this.createPointLight("rgb(255, 255, 255)",1,10),i=this.createPointLight("rgb(0, 0, 255)",1,7);r.position.set(0,3,0),i.position.set(-2,2.5,1),this.scene.add(e,r,i,t,n)},createSpotLight:function(e,t){t=void 0===t?"rgb(255, 255, 255)":t;var n=new S["SpotLight"](t,e);return n.castShadow=!0,n.penumbra=.5,n.shadow.mapSize.width=2048,n.shadow.mapSize.height=2048,n.shadow.bias=.001,n},createPointLight:function(e,t,n){e=void 0===e?"rgb(255, 255, 255)":e,t=void 0===t?1:t,n=void 0===n?0:n;var r=new S["SpotLight"](e,t,n),i=new S["SphereBufferGeometry"](.02,24,24);return r.add(new S["Mesh"](i,new S["MeshBasicMaterial"]({color:e}))),r.decay=2,r},createHemiSphereLight:function(e,t,n){e=void 0===e?"rgb(255, 255, 255)":e,t=void 0===t?"rgb(0, 0, 0)":t,n=void 0===n?1:n;var r=new S["HemisphereLight"](e,t,n);return r}}},C=(n("d3b7"),n("25f0"),{methods:{createMaterial:function(e,t){var n,r={color:void 0===t?"rgb(255, 255, 255)":t};switch(e){case"basic":n=new S["MeshBasicMaterial"](r);break;case"lambert":n=new S["MeshLambertMaterial"](r);break;case"phong":n=new S["MeshPhongMaterial"](r);break;case"standard":n=new S["MeshStandardMaterial"](r);break;default:n=new S["MeshBasicMaterial"](r);break}return n},generateRandomColor:function(){var e="#"+Math.floor(16777215*Math.random()).toString(16);this.changeTexture(5,e)},checkClientHeight:function(e){var t=window.innerHeight-229;return window.innerHeight<window.innerWidth?(e.width=window.innerWidth-150,e.height=t):(e.height=window.innerHeight-229,e.width=window.innerWidth),e},scaleToFit:function(e,t){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height},throttle:function(e,t){var n=!1;return function(){n||(e.call(),n=!0,setTimeout((function(){n=!1}),t))}}}}),_={methods:{createSphere:function(e,t,n){var r=new S["SphereGeometry"](t,n,n),i=new S["Mesh"](r,e);return i.castShadow=!0,i}}},O={methods:{createPlane:function(e,t){var n=new S["PlaneGeometry"](t,t);e.side=S["DoubleSide"];var r=new S["Mesh"](n,e);return r.receiveShadow=!0,r}}},j=(n("b0c0"),{methods:{createPrimitives:function(){var e=this.createMaterial("standard","rgb(120, 120, 120)"),t=this.createPlane(e,30);t.rotation.x=Math.PI/2;var n=this.createMaterial("standard","rgb(51, 102, 204)"),r=this.createSphere(n,1,64,64);r.position.y=r.geometry.parameters.radius,r.position.x=r.geometry.parameters.radius+1,r.name="primitive-sphere",r.roughness=1,this.scene.add(t,r)}}}),P=(n("38cf"),{methods:{changeTexture:function(e,t){var n=this;t=void 0===t?"#22f2ff":t;var r="initial.png";4===e&&(r="borg.png");var i=new S["TextureLoader"];i.load("./models/"+r,(function(e){e.wrapS=S["RepeatWrapping"],e.wrapT=S["RepeatWrapping"],e.flipY=!1,e.encoding=S["sRGBEncoding"],e.repeat.set(1,1);var r=n.scene.getObjectByName("gltf-model"),i=new S["MeshStandardMaterial"]({map:e});r.traverse((function(e){e instanceof S["Mesh"]&&(e.material=i,e.material.color.setStyle(t),e.material.needsUpdate=!0)}))}))},updatePrimitive:function(e){var t=this.scene.getObjectByName("primitive-sphere");t.material.color.setStyle(e)},updateModel:function(e){var t=this.scene.getObjectByName("gltf-model");t.traverse((function(t){t instanceof S["Mesh"]&&t.material.color.setStyle(e)})),this.changeTexture()}}}),L=n("34ad"),A={methods:{loadModel:function(){var e=this,t=new L["a"];g.$emit("loadingModel",!0),t.load("./models/BoxTextured.gltf",(function(t){t.scene.position.set(0,.51,0),t.scene.name="gltf-model",e.scene.add(t.scene)}),(function(e){console.log("".concat(e.loaded/e.total*100,"% loaded"))}),(function(e){console.error("An error happened",e),g.$emit("loadingModel",!1)}))}}},$={mixins:[M,y,C,O,_,P,j,A],methods:{sceneManager:function(e){var t=this;g.$emit("loadingModel",!0),this.container=e;var n=this.checkClientHeight(e.getBoundingClientRect());this.createScene(n),this.createRenderer(n),this.createCamera(n),this.createControls(),this.createSceneSubjects(),this.renderer.setAnimationLoop((function(){t.update(),t.render()})),window.addEventListener("resize",this.throttle(this.resizeWindowHandler,100))},createScene:function(){return this.scene=new S["Scene"],this.scene},createRenderer:function(e){return this.renderer=new S["WebGLRenderer"]({antialias:!0,alpha:!0}),this.renderer.setSize(e.width,e.height),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.autoClear=!1,this.renderer.setClearColor(0,0),this.renderer.shadowMap.enabled=!0,this.container.appendChild(this.renderer.domElement),this.renderer},createSceneSubjects:function(){this.createLights(),this.loadModel(),this.createPrimitives(),g.$emit("loadingModel",!1)}}},T={name:"Scene",mixins:[$],data:function(){return{}},computed:Object(m["a"])({},Object(w["c"])("scenes",["userAction"])),created:function(){g.$emit("loadingModel",!0)},mounted:function(){var e=this.$refs.scene;this.sceneManager(e)},beforeDestroy:function(){g.$off("modelLoaded")},watch:{userAction:{handler:function(e){this.updateScene(e.id,e.color)},deep:!0}},methods:{update:function(){this.controls.update()},render:function(){var e=this;this.renderer.render(this.scene,this.camera),requestAnimationFrame((function(){return e.update(e.scene,e.camera)}))},updateScene:function(e,t){switch(e){case 1:this.updatePrimitive(t);break;case 2:case 3:case 5:this.changeTexture(2,t);break;case 4:this.changeTexture(4);break}},resizeWindowHandler:function(){var e=this.checkClientHeight(this.container.getBoundingClientRect());this.camera.aspect=e.width/e.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(e.width,e.height)}}},k=T,I=(n("9774"),Object(s["a"])(k,v,b,!1,null,"b8dbfdae",null)),R=I.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swatches-container clearfix"},[n("p",[e._v("Actions")]),n("div",e._l(e.swatches,(function(e){return n("Swatch",{key:e.id,attrs:{swatch:e}})})),1)])},E=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"color-tile",style:e.tileColor,on:{click:e.updateColor}},[n("span",[e._v(e._s(e.swatch.text))])])},W=[],D={name:"Swatch",props:{swatch:{type:Object,required:!0}},computed:{tileColor:function(){return{backgroundColor:this.swatch.hexcode}}},methods:Object(m["a"])(Object(m["a"])({},Object(w["b"])("scenes",["changeScene"])),{},{updateColor:function(){this.changeScene({id:this.swatch.id,color:this.swatch.hexcode})}})},z=D,G=(n("6cf6"),Object(s["a"])(z,H,W,!1,null,null,null)),F=G.exports,N={name:"SwatchesWrapper",components:{Swatch:F},props:{swatches:Array}},q=N,J=(n("32c6"),Object(s["a"])(q,B,E,!1,null,"dab5e5b2",null)),U=J.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Transition",{attrs:{appear:""}},[n("BaseIcon",{class:e.$style.loadingIcon,attrs:{name:"sync",spin:""}})],1)},X=[],Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"font-awesome"===e.source?n("FontAwesomeIcon",e._b({attrs:{icon:e.name}},"FontAwesomeIcon",e.$attrs,!1)):"custom"===e.source?n("span",e._b({class:e.customIconClass},"span",e.$attrs,!1)):e._e()},K=[],Q=n("ad3d"),Z=n("ecee"),ee=n("bba4"),te=n.n(ee);Z["c"].add(n("3818").definition,n("7f18").definition);var ne={components:{FontAwesomeIcon:Q["a"]},inheritAttrs:!1,props:{source:{type:String,default:"font-awesome"},name:{type:String,required:!0}},computed:{customIconClass:function(){return this.$style[te()("icon-custom-"+this.name)]}}},re=ne,ie=Object(s["a"])(re,Y,K,!1,null,null,null),ae=ie.exports,oe={page:{title:"Loading page...",meta:[{name:"description",content:"Loading page..."}]},components:{BaseIcon:ae}},ce=oe,se=n("70f6");function de(e){this["$style"]=se["default"].locals||se["default"]}var ue=Object(s["a"])(ce,V,X,!1,de,null,null),le=ue.exports,he={page:{title:"3D Challenge"},components:{Loading:le,SwatchesWrapper:U,Scene:R},data:function(){return{visible:!1}},computed:Object(m["a"])({},Object(w["c"])("swatches",{swatches:function(e){return e.swatches}})),created:function(){var e=this;g.$on("loadingModel",(function(t){e.visible=t}))},beforeDestroy:function(){g.$off("loadingModel")}},fe=he,pe=Object(s["a"])(fe,f,p,!1,null,null,null),me=pe.exports;a["a"].use(h["a"]);var ge=[{path:"/",name:"Home",component:me},{path:"/404",name:"404",component:404,props:!0},{path:"*",redirect:"404"}],we=new h["a"]({mode:"history",base:"/",routes:ge}),ve=we,be=!0,Se={swatches:[{id:1,hexcode:"#990000",name:"Red",text:"Red Sphere"},{id:2,hexcode:"#339933",name:"Green",text:"Green Cube"},{id:3,hexcode:"#3366cc",name:"Blue",text:"Blue Cube"},{id:4,hexcode:"#cccccc",name:"Image",text:"Assimilation Texture"},{id:5,hexcode:"#dddddd",name:"Random",text:"Random Cube"}]},xe={getAllSwatches:function(e){return e.swatches}},Me={editColor:function(e,t){e.colorId=t}},ye={},Ce=!0,_e={userAction:{id:0,color:"#3366cc"}},Oe={getAction:function(e){return e.userAction}},je={EDIT_ACTION:function(e,t){e.userAction.id=t.id,e.userAction.color=t.color}},Pe={changeScene:function(e,t){var n=e.commit,r=t.id,i=t.color;5===r&&(i="#"+Math.floor(16777215*Math.random()).toString(16),i.length<7&&(i+="0")),n("EDIT_ACTION",{id:r,color:i})}};a["a"].use(w["a"]);var Le=new w["a"].Store({modules:{swatches:r,scenes:i}});a["a"].config.productionTip=!0,new a["a"]({router:ve,store:Le,render:function(e){return e(l)}}).$mount("#app")},6294:function(e,t,n){"use strict";var r=n("437c"),i=n.n(r);i.a},"6cf6":function(e,t,n){"use strict";var r=n("7210"),i=n.n(r);i.a},"70f6":function(e,t,n){"use strict";var r=n("bf5e"),i=n.n(r);t["default"]=i.a},7210:function(e,t,n){},9774:function(e,t,n){"use strict";var r=n("4d2b"),i=n.n(r);i.a},bf5e:function(e,t,n){e.exports={loadingIcon:"_loading_loadingIcon_2cXuW"}}});
//# sourceMappingURL=app.8f729434.js.map